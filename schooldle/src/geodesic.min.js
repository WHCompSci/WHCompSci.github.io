!function(t){var s,i={};i.Constants={},i.Math={},i.Accumulator={},function(t){"use strict";t.WGS84={a:6378137,f:1/298.257223563},t.version={major:2,minor:0,patch:0},t.version_string="2.0.0"}(i.Constants),function(t){"use strict";t.digits=53,t.epsilon=Math.pow(.5,t.digits-1),t.degree=Math.PI/180,t.sq=function(t){return t*t},t.hypot=function(t,s){return Math.sqrt(t*t+s*s)},t.cbrt=Math.cbrt||function(t){var s=Math.pow(Math.abs(t),1/3);return t>0?s:t<0?-s:t},t.log1p=Math.log1p||function(t){var s=1+t,i=s-1;return 0===i?t:t*Math.log(s)/i},t.atanh=Math.atanh||function(s){var i=Math.abs(s);return i=t.log1p(2*i/(1-i))/2,s>0?i:s<0?-i:s},t.copysign=function(t,s){return Math.abs(t)*(s<0||0===s&&1/s<0?-1:1)},t.sum=function(t,s){var i=t+s,a=i-s,h=i-a;return a-=t,{s:i,t:i?0-(a+(h-=s)):i}},t.polyval=function(t,s,i,a){for(var h=t<0?0:s[i++];--t>=0;)h=h*a+s[i++];return h},t.AngRound=function(s){var i=1/16,a=Math.abs(s);return a=a<i?i-(i-a):a,t.copysign(a,s)},t.remainder=function(t,s){return(t%=s)<-s/2?t+s:t<s/2?t:t-s},t.AngNormalize=function(s){var i=t.remainder(s,360);return 180===Math.abs(i)?t.copysign(180,s):i},t.LatFix=function(t){return Math.abs(t)>90?NaN:t},t.AngDiff=function(s,i){var a,h,e=t.sum(t.remainder(-s,360),t.remainder(i,360));return a=(e=t.sum(t.remainder(e.s,360),e.t)).s,h=e.t,0!==a&&180!==Math.abs(a)||(a=t.copysign(a,0===h?i-s:-h)),{d:a,e:h}},t.sincosd=function(s){var i,a,h,e,n,o;switch(i=s%360,i-=90*(a=Math.round(i/90)),i*=this.degree,h=Math.sin(i),e=Math.cos(i),3&a){case 0:n=h,o=e;break;case 1:n=e,o=-h;break;case 2:n=-h,o=-e;break;default:n=-e,o=h}return o+=0,0===n&&(n=t.copysign(n,s)),{s:n,c:o}},t.sincosde=function(s,i){var a,h,e,n,o,r;switch(a=s%360,h=Math.round(a/90),a=t.AngRound(a-90*h+i),a*=this.degree,e=Math.sin(a),n=Math.cos(a),3&h){case 0:o=e,r=n;break;case 1:o=n,r=-e;break;case 2:o=-e,r=-n;break;default:o=-n,r=e}return r+=0,0===o&&(o=t.copysign(o,s)),{s:o,c:r}},t.atan2d=function(s,i){var a,h=0;switch(Math.abs(s)>Math.abs(i)&&([s,i]=[i,s],h=2),t.copysign(1,i)<0&&(i=-i,++h),a=Math.atan2(s,i)/this.degree,h){case 1:a=t.copysign(180,s)-a;break;case 2:a=90-a;break;case 3:a=-90+a}return a}}(i.Math),function(t,s){"use strict";t.Accumulator=function(t){this.Set(t)},t.Accumulator.prototype.Set=function(s){s||(s=0),s.constructor===t.Accumulator?(this._s=s._s,this._t=s._t):(this._s=s,this._t=0)},t.Accumulator.prototype.Add=function(t){var i=s.sum(t,this._t),a=s.sum(i.s,this._s);i=i.t,this._s=a.s,this._t=a.t,0===this._s?this._s=i:this._t+=i},t.Accumulator.prototype.Sum=function(s){var i;return s?((i=new t.Accumulator(this)).Add(s),i._s):this._s},t.Accumulator.prototype.Negate=function(){this._s*=-1,this._t*=-1},t.Accumulator.prototype.Remainder=function(t){this._s=s.remainder(this._s,t),this.Add(0)}}(i.Accumulator,i.Math),i.Geodesic={},i.GeodesicLine={},i.PolygonArea={},function(t,s,i,a,h){"use strict";var e,n,o,r,_,c,p,l,u,C,A,f=20+a.digits+10,g=a.epsilon,m=200*g,M=Math.sqrt(g),d=g*m,S=1e3*M;t.tiny_=Math.sqrt(Number.MIN_VALUE/Number.EPSILON),t.nC1_=6,t.nC1p_=6,t.nC2_=6,t.nC3_=6,t.nC4_=6,e=t.nC3_*(t.nC3_-1)/2,n=t.nC4_*(t.nC4_+1)/2,t.CAP_C1=1,t.CAP_C1p=2,t.CAP_C2=4,t.CAP_C3=8,t.CAP_C4=16,t.NONE=0,t.ARC=64,t.LATITUDE=128,t.LONGITUDE=256|t.CAP_C3,t.AZIMUTH=512,t.DISTANCE=1024|t.CAP_C1,t.STANDARD=t.LATITUDE|t.LONGITUDE|t.AZIMUTH|t.DISTANCE,t.DISTANCE_IN=2048|t.CAP_C1|t.CAP_C1p,t.REDUCEDLENGTH=4096|t.CAP_C1|t.CAP_C2,t.GEODESICSCALE=8192|t.CAP_C1|t.CAP_C2,t.AREA=16384|t.CAP_C4,t.ALL=32671,t.LONG_UNROLL=32768,t.OUT_MASK=32640|t.LONG_UNROLL,t.SinCosSeries=function(t,s,i,a){var h=a.length,e=h-(t?1:0),n=2*(i-s)*(i+s),o=1&e?a[--h]:0,r=0;for(e=Math.floor(e/2);e--;)o=n*(r=n*o-r+a[--h])-o+a[--h];return t?2*s*i*o:i*(o-r)},o=function(t,s){var i,h,e,n,o,r,_,c,p,l,u,C,A=a.sq(t),f=a.sq(s),g=(A+f-1)/6;return 0===f&&g<=0?i=0:(r=g,(o=(h=A*f/4)*(h+2*(n=g*(e=a.sq(g)))))>=0?(_=h+n,_+=_<0?-Math.sqrt(o):Math.sqrt(o),r+=(c=a.cbrt(_))+(0!==c?e/c:0)):(p=Math.atan2(Math.sqrt(-o),-(h+n)),r+=2*g*Math.cos(p/3)),l=Math.sqrt(a.sq(r)+f),C=((u=r<0?f/(l-r):r+l)-f)/(2*l),i=u/(Math.sqrt(u+a.sq(C))+C)),i},r=[1,4,64,0,256],t.A1m1f=function(t){var s=Math.floor(3);return(a.polyval(s,r,0,a.sq(t))/r[s+1]+t)/(1-t)},_=[-1,6,-16,32,-9,64,-128,2048,9,-16,768,3,-5,512,-7,1280,-7,2048],t.C1f=function(s,i){var h,e,n=a.sq(s),o=s,r=0;for(h=1;h<=t.nC1_;++h)e=Math.floor((t.nC1_-h)/2),i[h]=o*a.polyval(e,_,r,n)/_[r+e+1],r+=e+2,o*=s},c=[205,-432,768,1536,4005,-4736,3840,12288,-225,116,384,-7173,2695,7680,3467,7680,38081,61440],t.C1pf=function(s,i){var h,e,n=a.sq(s),o=s,r=0;for(h=1;h<=t.nC1p_;++h)e=Math.floor((t.nC1p_-h)/2),i[h]=o*a.polyval(e,c,r,n)/c[r+e+1],r+=e+2,o*=s},p=[-11,-28,-192,0,256],t.A2m1f=function(t){var s=Math.floor(3);return(a.polyval(s,p,0,a.sq(t))/p[s+1]-t)/(1+t)},l=[1,2,16,32,35,64,384,2048,15,80,768,7,35,512,63,1280,77,2048],t.C2f=function(s,i){var h,e,n=a.sq(s),o=s,r=0;for(h=1;h<=t.nC2_;++h)e=Math.floor((t.nC2_-h)/2),i[h]=o*a.polyval(e,l,r,n)/l[r+e+1],r+=e+2,o*=s},t.Geodesic=function(t,s){if(this.a=t,this.f=s,this._f1=1-this.f,this._e2=this.f*(2-this.f),this._ep2=this._e2/a.sq(this._f1),this._n=this.f/(2-this.f),this._b=this.a*this._f1,this._c2=(a.sq(this.a)+a.sq(this._b)*(0===this._e2?1:(this._e2>0?a.atanh(Math.sqrt(this._e2)):Math.atan(Math.sqrt(-this._e2)))/Math.sqrt(Math.abs(this._e2))))/2,this._etol2=.1*M/Math.sqrt(Math.max(.001,Math.abs(this.f))*Math.min(1,1-this.f/2)/2),!(isFinite(this.a)&&this.a>0))throw new Error("Equatorial radius is not positive");if(!(isFinite(this._b)&&this._b>0))throw new Error("Polar semi-axis is not positive");this._A3x=new Array(6),this._C3x=new Array(e),this._C4x=new Array(n),this.A3coeff(),this.C3coeff(),this.C4coeff()},u=[-3,128,-2,-3,64,-1,-3,-1,16,3,-1,-2,8,1,-1,2,1,1],t.Geodesic.prototype.A3coeff=function(){var t,s,i=0,h=0;for(t=5;t>=0;--t)s=Math.min(6-t-1,t),this._A3x[h++]=a.polyval(s,u,i,this._n)/u[i+s+1],i+=s+2},C=[3,128,2,5,128,-1,3,3,64,-1,0,1,8,-1,1,4,5,256,1,3,128,-3,-2,3,64,1,-3,2,32,7,512,-10,9,384,5,-9,5,192,7,512,-14,7,512,21,2560],t.Geodesic.prototype.C3coeff=function(){var s,i,h,e=0,n=0;for(s=1;s<t.nC3_;++s)for(i=t.nC3_-1;i>=s;--i)h=Math.min(t.nC3_-i-1,i),this._C3x[n++]=a.polyval(h,C,e,this._n)/C[e+h+1],e+=h+2},A=[97,15015,1088,156,45045,-224,-4784,1573,45045,-10656,14144,-4576,-858,45045,64,624,-4576,6864,-3003,15015,100,208,572,3432,-12012,30030,45045,1,9009,-2944,468,135135,5792,1040,-1287,135135,5952,-11648,9152,-2574,135135,-64,-624,4576,-6864,3003,135135,8,10725,1856,-936,225225,-8448,4992,-1144,225225,-1440,4160,-4576,1716,225225,-136,63063,1024,-208,105105,3584,-3328,1144,315315,-128,135135,-2560,832,405405,128,99099],t.Geodesic.prototype.C4coeff=function(){var s,i,h,e=0,n=0;for(s=0;s<t.nC4_;++s)for(i=t.nC4_-1;i>=s;--i)h=t.nC4_-i-1,this._C4x[n++]=a.polyval(h,A,e,this._n)/A[e+h+1],e+=h+2},t.Geodesic.prototype.A3f=function(t){return a.polyval(5,this._A3x,0,t)},t.Geodesic.prototype.C3f=function(s,i){var h,e,n=1,o=0;for(h=1;h<t.nC3_;++h)e=t.nC3_-h-1,n*=s,i[h]=n*a.polyval(e,this._C3x,o,s),o+=e+1},t.Geodesic.prototype.C4f=function(s,i){var h,e,n=1,o=0;for(h=0;h<t.nC4_;++h)e=t.nC4_-h-1,i[h]=n*a.polyval(e,this._C4x,o,s),o+=e+1,n*=s},t.Geodesic.prototype.Lengths=function(s,i,a,h,e,n,o,r,_,c,p,l,u){var C,A,f,g,m={},M=0,d=0,S=0,E=0;if((p&=t.OUT_MASK)&(t.DISTANCE|t.REDUCEDLENGTH|t.GEODESICSCALE)&&(S=t.A1m1f(s),t.C1f(s,l),p&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(E=t.A2m1f(s),t.C2f(s,u),M=S-E,E=1+E),S=1+S),p&t.DISTANCE)C=t.SinCosSeries(!0,n,o,l)-t.SinCosSeries(!0,a,h,l),m.s12b=S*(i+C),p&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(d=M*i+(S*C-E*(t.SinCosSeries(!0,n,o,u)-t.SinCosSeries(!0,a,h,u))));else if(p&(t.REDUCEDLENGTH|t.GEODESICSCALE)){for(A=1;A<=t.nC2_;++A)u[A]=S*l[A]-E*u[A];d=M*i+(t.SinCosSeries(!0,n,o,u)-t.SinCosSeries(!0,a,h,u))}return p&t.REDUCEDLENGTH&&(m.m0=M,m.m12b=r*(h*n)-e*(a*o)-h*o*d),p&t.GEODESICSCALE&&(f=h*o+a*n,g=this._ep2*(_-c)*(_+c)/(e+r),m.M12=f+(g*n-o*d)*a/e,m.M21=f-(g*a-h*d)*n/r),m},t.Geodesic.prototype.InverseStart=function(s,i,h,e,n,r,_,c,p,l,u){var C,A,f,g,M,d,E,y,D,N,L,G,I,v,T,b,q,O,P,R,U={},w=e*i-n*s,x=n*i+e*s;return U.sig12=-1,C=e*i,C+=n*s,(A=x>=0&&w<.5&&n*_<.5)?(g=a.sq(s+e),g/=g+a.sq(i+n),U.dnm=Math.sqrt(1+this._ep2*g),f=_/(this._f1*U.dnm),M=Math.sin(f),d=Math.cos(f)):(M=c,d=p),U.salp1=n*M,U.calp1=d>=0?w+n*s*a.sq(M)/(1+d):C-n*s*a.sq(M)/(1-d),y=a.hypot(U.salp1,U.calp1),D=s*e+i*n*d,A&&y<this._etol2?(U.salp2=i*M,U.calp2=w-i*e*(d>=0?a.sq(M)/(1+d):1-d),E=a.hypot(U.salp2,U.calp2),U.salp2/=E,U.calp2/=E,U.sig12=Math.atan2(y,D)):Math.abs(this._n)>.1||D>=0||y>=6*Math.abs(this._n)*Math.PI*a.sq(i)||(R=Math.atan2(-c,-p),this.f>=0?(v=(I=a.sq(s)*this._ep2)/(2*(1+Math.sqrt(1+I))+I),N=R/(G=this.f*i*this.A3f(v)*Math.PI),L=C/(G*i)):(T=n*i-e*s,b=Math.atan2(C,T),L=_/(G=((N=(q=this.Lengths(this._n,Math.PI+b,s,-i,h,e,n,r,i,n,t.REDUCEDLENGTH,l,u)).m12b/(i*n*q.m0*Math.PI)-1)<-.01?C/N:-this.f*a.sq(i)*Math.PI)/i)),L>-m&&N>-1-S?this.f>=0?(U.salp1=Math.min(1,-N),U.calp1=-Math.sqrt(1-a.sq(U.salp1))):(U.calp1=Math.max(N>-m?0:-1,N),U.salp1=Math.sqrt(1-a.sq(U.calp1))):(O=o(N,L),P=G*(this.f>=0?-N*O/(1+O):-L*(1+O)/O),M=Math.sin(P),d=-Math.cos(P),U.salp1=n*M,U.calp1=C-n*s*a.sq(M)/(1-d))),U.salp1<=0?(U.salp1=1,U.calp1=0):(E=a.hypot(U.salp1,U.calp1),U.salp1/=E,U.calp1/=E),U},t.Geodesic.prototype.Lambda12=function(s,i,h,e,n,o,r,_,c,p,l,u,C,A){var f,g,m,M,d,S,E,y,D,N,L,G,I,v={};return 0===s&&0===_&&(_=-t.tiny_),g=r*i,m=a.hypot(_,r*s),v.ssig1=s,M=g*s,v.csig1=d=_*i,f=a.hypot(v.ssig1,v.csig1),v.ssig1/=f,v.csig1/=f,v.salp2=n!==i?g/n:r,v.calp2=n!==i||Math.abs(e)!==-s?Math.sqrt(a.sq(_*i)+(i<-s?(n-i)*(i+n):(s-e)*(s+e)))/n:Math.abs(_),v.ssig2=e,S=g*e,v.csig2=E=v.calp2*n,f=a.hypot(v.ssig2,v.csig2),v.ssig2/=f,v.csig2/=f,v.sig12=Math.atan2(Math.max(0,v.csig1*v.ssig2-v.ssig1*v.csig2),v.csig1*v.csig2+v.ssig1*v.ssig2),y=Math.max(0,d*S-M*E),D=d*E+M*S,L=Math.atan2(y*p-D*c,D*p+y*c),G=a.sq(m)*this._ep2,v.eps=G/(2*(1+Math.sqrt(1+G))+G),this.C3f(v.eps,A),N=t.SinCosSeries(!0,v.ssig2,v.csig2,A)-t.SinCosSeries(!0,v.ssig1,v.csig1,A),v.domg12=-this.f*this.A3f(v.eps)*g*(v.sig12+N),v.lam12=L+v.domg12,l&&(0===v.calp2?v.dlam12=-2*this._f1*h/s:(I=this.Lengths(v.eps,v.sig12,v.ssig1,v.csig1,h,v.ssig2,v.csig2,o,i,n,t.REDUCEDLENGTH,u,C),v.dlam12=I.m12b,v.dlam12*=this._f1/(v.calp2*n))),v},t.Geodesic.prototype.Inverse=function(s,i,h,e,n){var o,r;return n||(n=t.STANDARD),n===t.LONG_UNROLL&&(n|=t.STANDARD),n&=t.OUT_MASK,r=(o=this.InverseInt(s,i,h,e,n)).vals,n&t.AZIMUTH&&(r.azi1=a.atan2d(o.salp1,o.calp1),r.azi2=a.atan2d(o.salp2,o.calp2)),r},t.Geodesic.prototype.InverseInt=function(s,i,h,e,n){var o,r,_,c,p,l,u,C,A,m,M,S,E,y,D,N,L,G,I,v,T,b,q,O,P,R,U,w,x,k,H,z,B,F,K,Z,W,j,V,J,Q,X,Y,$,tt,st,it,at,ht,et,nt,ot,rt,_t,ct,pt,lt,ut,Ct,At,ft,gt,mt,Mt,dt,St={};if(St.lat1=s=a.LatFix(s),St.lat2=h=a.LatFix(h),s=a.AngRound(s),h=a.AngRound(h),r=(o=a.AngDiff(i,e)).e,o=o.d,n&t.LONG_UNROLL?(St.lon1=i,St.lon2=i+o+r):(St.lon1=a.AngNormalize(i),St.lon2=a.AngNormalize(e)),r*=_=a.copysign(1,o),D=(o*=_)*a.degree,N=(c=a.sincosde(o,r)).s,L=c.c,r=180-o-r,(p=Math.abs(s)<Math.abs(h)||isNaN(h)?-1:1)<0&&(_*=-1,[h,s]=[s,h]),s*=l=a.copysign(1,-s),h*=l,c=a.sincosd(s),u=this._f1*c.s,C=c.c,u/=c=a.hypot(u,C),C/=c,C=Math.max(t.tiny_,C),c=a.sincosd(h),A=this._f1*c.s,m=c.c,A/=c=a.hypot(A,m),m/=c,m=Math.max(t.tiny_,m),C<-u?m===C&&(A=a.copysign(u,A)):Math.abs(A)===-u&&(m=C),E=Math.sqrt(1+this._ep2*a.sq(u)),y=Math.sqrt(1+this._ep2*a.sq(A)),q=new Array(t.nC1_+1),O=new Array(t.nC2_+1),P=new Array(t.nC3_),(R=-90===s||0===N)&&(v=N,b=0,w=u,x=(I=L)*C,k=A,H=(T=1)*m,G=Math.atan2(Math.max(0,x*k-w*H),x*H+w*k),M=(U=this.Lengths(this._n,G,w,x,E,k,H,y,C,m,n|t.DISTANCE|t.REDUCEDLENGTH,q,O)).s12b,S=U.m12b,n&t.GEODESICSCALE&&(St.M12=U.M12,St.M21=U.M21),G<1||S>=0?((G<3*t.tiny_||G<g&&(M<0||S<0))&&(G=S=M=0),S*=this._b,M*=this._b,St.a12=G/a.degree):R=!1),lt=2,!R&&0===u&&(this.f<=0||r>=180*this.f))I=T=0,v=b=1,M=this.a*D,G=B=D/this._f1,S=this._b*Math.sin(G),n&t.GEODESICSCALE&&(St.M12=St.M21=Math.cos(G)),St.a12=o/this._f1;else if(!R)if(G=(U=this.InverseStart(u,C,E,A,m,y,D,N,L,q,O)).sig12,v=U.salp1,I=U.calp1,G>=0)b=U.salp2,T=U.calp2,F=U.dnm,M=G*this._b*F,S=a.sq(F)*this._b*Math.sin(G/F),n&t.GEODESICSCALE&&(St.M12=St.M21=Math.cos(G/F)),St.a12=G/a.degree,B=D/(this._f1*F);else{for(K=0,Z=t.tiny_,W=1,j=t.tiny_,V=-1,J=!1,Q=!1;K<f&&(X=(U=this.Lambda12(u,C,E,A,m,y,v,I,N,L,K<20,q,O,P)).lam12,b=U.salp2,T=U.calp2,G=U.sig12,w=U.ssig1,x=U.csig1,k=U.ssig2,H=U.csig2,z=U.eps,Ct=U.domg12,Y=U.dlam12,!Q&&Math.abs(X)>=(J?8:1)*g);++K)X>0&&(K<20||I/v>V/j)?(j=v,V=I):X<0&&(K<20||I/v<W/Z)&&(Z=v,W=I),K<20&&Y>0&&($=-X/Y,tt=Math.sin($),(it=v*(st=Math.cos($))+I*tt)>0&&Math.abs($)<Math.PI)?(I=I*st-v*tt,v=it,v/=c=a.hypot(v,I),I/=c,J=Math.abs(X)<=16*g):(v=(Z+j)/2,I=(W+V)/2,v/=c=a.hypot(v,I),I/=c,J=!1,Q=Math.abs(Z-v)+(W-I)<d||Math.abs(v-j)+(I-V)<d);at=n|(n&(t.REDUCEDLENGTH|t.GEODESICSCALE)?t.DISTANCE:t.NONE),M=(U=this.Lengths(z,G,w,x,E,k,H,y,C,m,at,q,O)).s12b,S=U.m12b,n&t.GEODESICSCALE&&(St.M12=U.M12,St.M21=U.M21),S*=this._b,M*=this._b,St.a12=G/a.degree,n&t.AREA&&(Mt=Math.sin(Ct),lt=N*(dt=Math.cos(Ct))-L*Mt,ut=L*dt+N*Mt)}return n&t.DISTANCE&&(St.s12=0+M),n&t.REDUCEDLENGTH&&(St.m12=0+S),n&t.AREA&&(ht=v*C,0!==(et=a.hypot(I,v*u))&&0!==ht?(w=u,x=I*C,k=A,H=T*m,z=(ot=a.sq(et)*this._ep2)/(2*(1+Math.sqrt(1+ot))+ot),rt=a.sq(this.a)*et*ht*this._e2,w/=c=a.hypot(w,x),x/=c,k/=c=a.hypot(k,H),H/=c,_t=new Array(t.nC4_),this.C4f(z,_t),ct=t.SinCosSeries(!1,w,x,_t),pt=t.SinCosSeries(!1,k,H,_t),St.S12=rt*(pt-ct)):St.S12=0,R||2!=lt||(lt=Math.sin(B),ut=Math.cos(B)),!R&&ut>-.7071&&A-u<1.75?(Ct=1+ut,At=1+C,ft=1+m,nt=2*Math.atan2(lt*(u*ft+A*At),Ct*(u*A+At*ft))):(mt=T*I+b*v,0===(gt=b*I-T*v)&&mt<0&&(gt=t.tiny_*I,mt=-1),nt=Math.atan2(gt,mt)),St.S12+=this._c2*nt,St.S12*=p*_*l,St.S12+=0),p<0&&([b,v]=[v,b],[T,I]=[I,T],n&t.GEODESICSCALE&&([St.M21,St.M12]=[St.M12,St.M21])),{vals:St,salp1:v*=p*_,calp1:I*=p*l,salp2:b*=p*_,calp2:T*=p*l}},t.Geodesic.prototype.GenDirect=function(i,a,h,e,n,o){return o?o===t.LONG_UNROLL&&(o|=t.STANDARD):o=t.STANDARD,e||(o|=t.DISTANCE_IN),new s.GeodesicLine(this,i,a,h,o).GenPosition(e,n,o)},t.Geodesic.prototype.Direct=function(t,s,i,a,h){return this.GenDirect(t,s,i,!1,a,h)},t.Geodesic.prototype.ArcDirect=function(t,s,i,a,h){return this.GenDirect(t,s,i,!0,a,h)},t.Geodesic.prototype.Line=function(t,i,a,h){return new s.GeodesicLine(this,t,i,a,h)},t.Geodesic.prototype.DirectLine=function(t,s,i,a,h){return this.GenDirectLine(t,s,i,!1,a,h)},t.Geodesic.prototype.ArcDirectLine=function(t,s,i,a,h){return this.GenDirectLine(t,s,i,!0,a,h)},t.Geodesic.prototype.GenDirectLine=function(i,a,h,e,n,o){var r;return o||(o=t.STANDARD|t.DISTANCE_IN),e||(o|=t.DISTANCE_IN),(r=new s.GeodesicLine(this,i,a,h,o)).GenSetDistance(e,n),r},t.Geodesic.prototype.InverseLine=function(i,h,e,n,o){var r,_,c;return o||(o=t.STANDARD|t.DISTANCE_IN),r=this.InverseInt(i,h,e,n,t.ARC),c=a.atan2d(r.salp1,r.calp1),o&t.OUT_MASK&t.DISTANCE_IN&&(o|=t.DISTANCE),(_=new s.GeodesicLine(this,i,h,c,o,r.salp1,r.calp1)).SetArc(r.vals.a12),_},t.Geodesic.prototype.Polygon=function(t){return new i.PolygonArea(this,t)},t.WGS84=new t.Geodesic(h.WGS84.a,h.WGS84.f)}(i.Geodesic,i.GeodesicLine,i.PolygonArea,i.Math,i.Constants),function(t,s,i){"use strict";s.GeodesicLine=function(s,a,h,e,n,o,r){var _,c,p,l,u,C;n||(n=t.STANDARD|t.DISTANCE_IN),this.a=s.a,this.f=s.f,this._b=s._b,this._c2=s._c2,this._f1=s._f1,this.caps=n|t.LATITUDE|t.AZIMUTH|t.LONG_UNROLL,this.lat1=i.LatFix(a),this.lon1=h,void 0===o||void 0===r?(this.azi1=i.AngNormalize(e),_=i.sincosd(i.AngRound(this.azi1)),this.salp1=_.s,this.calp1=_.c):(this.azi1=e,this.salp1=o,this.calp1=r),_=i.sincosd(i.AngRound(this.lat1)),p=this._f1*_.s,c=_.c,p/=_=i.hypot(p,c),c/=_,c=Math.max(t.tiny_,c),this._dn1=Math.sqrt(1+s._ep2*i.sq(p)),this._salp0=this.salp1*c,this._calp0=i.hypot(this.calp1,this.salp1*p),this._ssig1=p,this._somg1=this._salp0*p,this._csig1=this._comg1=0!==p||0!==this.calp1?c*this.calp1:1,_=i.hypot(this._ssig1,this._csig1),this._ssig1/=_,this._csig1/=_,this._k2=i.sq(this._calp0)*s._ep2,l=this._k2/(2*(1+Math.sqrt(1+this._k2))+this._k2),this.caps&t.CAP_C1&&(this._A1m1=t.A1m1f(l),this._C1a=new Array(t.nC1_+1),t.C1f(l,this._C1a),this._B11=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C1a),u=Math.sin(this._B11),C=Math.cos(this._B11),this._stau1=this._ssig1*C+this._csig1*u,this._ctau1=this._csig1*C-this._ssig1*u),this.caps&t.CAP_C1p&&(this._C1pa=new Array(t.nC1p_+1),t.C1pf(l,this._C1pa)),this.caps&t.CAP_C2&&(this._A2m1=t.A2m1f(l),this._C2a=new Array(t.nC2_+1),t.C2f(l,this._C2a),this._B21=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C2a)),this.caps&t.CAP_C3&&(this._C3a=new Array(t.nC3_),s.C3f(l,this._C3a),this._A3c=-this.f*this._salp0*s.A3f(l),this._B31=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C3a)),this.caps&t.CAP_C4&&(this._C4a=new Array(t.nC4_),s.C4f(l,this._C4a),this._A4=i.sq(this.a)*this._calp0*this._salp0*s._e2,this._B41=t.SinCosSeries(!1,this._ssig1,this._csig1,this._C4a)),this.a13=this.s13=NaN},s.GeodesicLine.prototype.GenPosition=function(s,a,h){var e,n,o,r,_,c,p,l,u,C,A,f,g,m,M,d,S,E,y,D,N,L,G,I,v,T,b={};return h?h===t.LONG_UNROLL&&(h|=t.STANDARD):h=t.STANDARD,h&=this.caps&t.OUT_MASK,b.lat1=this.lat1,b.azi1=this.azi1,b.lon1=h&t.LONG_UNROLL?this.lon1:i.AngNormalize(this.lon1),s?b.a12=a:b.s12=a,s||this.caps&t.DISTANCE_IN&t.OUT_MASK?(r=0,_=0,s?(e=a*i.degree,n=(G=i.sincosd(a)).s,o=G.c):(l=a/(this._b*(1+this._A1m1)),u=Math.sin(l),C=Math.cos(l),e=l-((r=-t.SinCosSeries(!0,this._stau1*C+this._ctau1*u,this._ctau1*C-this._stau1*u,this._C1pa))-this._B11),n=Math.sin(e),o=Math.cos(e),Math.abs(this.f)>.01&&(c=this._ssig1*o+this._csig1*n,p=this._csig1*o-this._ssig1*n,r=t.SinCosSeries(!0,c,p,this._C1a),e-=((1+this._A1m1)*(e+(r-this._B11))-a/this._b)/Math.sqrt(1+this._k2*i.sq(c)),n=Math.sin(e),o=Math.cos(e))),c=this._ssig1*o+this._csig1*n,p=this._csig1*o-this._ssig1*n,y=Math.sqrt(1+this._k2*i.sq(c)),h&(t.DISTANCE|t.REDUCEDLENGTH|t.GEODESICSCALE)&&((s||Math.abs(this.f)>.01)&&(r=t.SinCosSeries(!0,c,p,this._C1a)),_=(1+this._A1m1)*(r-this._B11)),g=this._calp0*c,0===(m=i.hypot(this._salp0,this._calp0*p))&&(m=p=t.tiny_),S=this._salp0,E=this._calp0*p,s&&h&t.DISTANCE&&(b.s12=this._b*((1+this._A1m1)*e+_)),h&t.LONGITUDE&&(M=this._salp0*c,d=p,f=i.copysign(1,this._salp0),A=((h&t.LONG_UNROLL?f*(e-(Math.atan2(c,p)-Math.atan2(this._ssig1,this._csig1))+(Math.atan2(f*M,d)-Math.atan2(f*this._somg1,this._comg1))):Math.atan2(M*this._comg1-d*this._somg1,d*this._comg1+M*this._somg1))+this._A3c*(e+(t.SinCosSeries(!0,c,p,this._C3a)-this._B31)))/i.degree,b.lon2=h&t.LONG_UNROLL?this.lon1+A:i.AngNormalize(i.AngNormalize(this.lon1)+i.AngNormalize(A))),h&t.LATITUDE&&(b.lat2=i.atan2d(g,this._f1*m)),h&t.AZIMUTH&&(b.azi2=i.atan2d(S,E)),h&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(D=t.SinCosSeries(!0,c,p,this._C2a),N=(1+this._A2m1)*(D-this._B21),L=(this._A1m1-this._A2m1)*e+(_-N),h&t.REDUCEDLENGTH&&(b.m12=this._b*(y*(this._csig1*c)-this._dn1*(this._ssig1*p)-this._csig1*p*L)),h&t.GEODESICSCALE&&(G=this._k2*(c-this._ssig1)*(c+this._ssig1)/(this._dn1+y),b.M12=o+(G*c-p*L)*this._ssig1/this._dn1,b.M21=o-(G*this._ssig1-this._csig1*L)*c/y)),h&t.AREA&&(I=t.SinCosSeries(!1,c,p,this._C4a),0===this._calp0||0===this._salp0?(v=S*this.calp1-E*this.salp1,T=E*this.calp1+S*this.salp1):(v=this._calp0*this._salp0*(o<=0?this._csig1*(1-o)+n*this._ssig1:n*(this._csig1*n/(1+o)+this._ssig1)),T=i.sq(this._salp0)+i.sq(this._calp0)*this._csig1*p),b.S12=this._c2*Math.atan2(v,T)+this._A4*(I-this._B41)),s||(b.a12=e/i.degree),b):(b.a12=NaN,b)},s.GeodesicLine.prototype.Position=function(t,s){return this.GenPosition(!1,t,s)},s.GeodesicLine.prototype.ArcPosition=function(t,s){return this.GenPosition(!0,t,s)},s.GeodesicLine.prototype.GenSetDistance=function(t,s){t?this.SetArc(s):this.SetDistance(s)},s.GeodesicLine.prototype.SetDistance=function(s){var i;this.s13=s,i=this.GenPosition(!1,this.s13,t.ARC),this.a13=0+i.a12},s.GeodesicLine.prototype.SetArc=function(s){var i;this.a13=s,i=this.GenPosition(!0,this.a13,t.DISTANCE),this.s13=0+i.s12}}(i.Geodesic,i.GeodesicLine,i.Math),function(t,s,i,a){"use strict";var h,e,n,o;h=function(t,s){var a=i.AngDiff(t,s).d;return t=i.AngNormalize(t),s=i.AngNormalize(s),a>0&&(t<0&&s>=0||t>0&&0===s)?1:a<0&&t>=0&&s<0?-1:0},e=function(t,s){return(0<=(s%=720)&&s<360||s<-360?0:1)-(0<=(t%=720)&&t<360||t<-360?0:1)},n=function(t,s,i,a,h){return t.Remainder(s),1&i&&t.Add((t.Sum()<0?1:-1)*s/2),a||t.Negate(),h?t.Sum()>s/2?t.Add(-s):t.Sum()<=-s/2&&t.Add(+s):t.Sum()>=s?t.Add(-s):t.Sum()<0&&t.Add(+s),0+t.Sum()},o=function(t,s,a,h,e){return t=i.remainder(t,s),1&a&&(t+=(t<0?1:-1)*s/2),h||(t*=-1),e?t>s/2?t-=s:t<=-s/2&&(t+=s):t>=s?t-=s:t<0&&(t+=s),0+t},t.PolygonArea=function(t,i){this._geod=t,this.a=this._geod.a,this.f=this._geod.f,this._area0=4*Math.PI*t._c2,this.polyline=i||!1,this._mask=s.LATITUDE|s.LONGITUDE|s.DISTANCE|(this.polyline?s.NONE:s.AREA|s.LONG_UNROLL),this.polyline||(this._areasum=new a.Accumulator(0)),this._perimetersum=new a.Accumulator(0),this.Clear()},t.PolygonArea.prototype.Clear=function(){this.num=0,this._crossings=0,this.polyline||this._areasum.Set(0),this._perimetersum.Set(0),this._lat0=this._lon0=this.lat=this.lon=NaN},t.PolygonArea.prototype.AddPoint=function(t,s){var i;0===this.num?(this._lat0=this.lat=t,this._lon0=this.lon=s):(i=this._geod.Inverse(this.lat,this.lon,t,s,this._mask),this._perimetersum.Add(i.s12),this.polyline||(this._areasum.Add(i.S12),this._crossings+=h(this.lon,s)),this.lat=t,this.lon=s),++this.num},t.PolygonArea.prototype.AddEdge=function(t,s){var i;this.num&&(i=this._geod.Direct(this.lat,this.lon,t,s,this._mask),this._perimetersum.Add(s),this.polyline||(this._areasum.Add(i.S12),this._crossings+=e(this.lon,i.lon2)),this.lat=i.lat2,this.lon=i.lon2),++this.num},t.PolygonArea.prototype.Compute=function(t,s){var i,e,o={number:this.num};return this.num<2?(o.perimeter=0,this.polyline||(o.area=0),o):this.polyline?(o.perimeter=this._perimetersum.Sum(),o):(i=this._geod.Inverse(this.lat,this.lon,this._lat0,this._lon0,this._mask),o.perimeter=this._perimetersum.Sum(i.s12),(e=new a.Accumulator(this._areasum)).Add(i.S12),o.area=n(e,this._area0,this._crossings+h(this.lon,this._lon0),t,s),o)},t.PolygonArea.prototype.TestPoint=function(t,s,i,a){var e,n,r,_,c={number:this.num+1};if(0===this.num)return c.perimeter=0,this.polyline||(c.area=0),c;for(c.perimeter=this._perimetersum.Sum(),n=this.polyline?0:this._areasum.Sum(),r=this._crossings,_=0;_<(this.polyline?1:2);++_)e=this._geod.Inverse(0===_?this.lat:t,0===_?this.lon:s,0!==_?this._lat0:t,0!==_?this._lon0:s,this._mask),c.perimeter+=e.s12,this.polyline||(n+=e.S12,r+=h(0===_?this.lon:s,0!==_?this._lon0:s));return this.polyline||(c.area=o(n,this._area0,r,i,a)),c},t.PolygonArea.prototype.TestEdge=function(t,s,i,a){var n,r,_,c={number:this.num?this.num+1:0};return 0===this.num?c:(c.perimeter=this._perimetersum.Sum()+s,this.polyline||(r=this._areasum.Sum(),_=this._crossings,r+=(n=this._geod.Direct(this.lat,this.lon,t,s,this._mask)).S12,_+=e(this.lon,n.lon2),_+=h(n.lon2,this._lon0),n=this._geod.Inverse(n.lat2,n.lon2,this._lat0,this._lon0,this._mask),c.perimeter+=n.s12,r+=n.S12,c.area=o(r,this._area0,_,i,a)),c)}}(i.PolygonArea,i.Geodesic,i.Math,i.Accumulator),s=i,"object"==typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define("geographiclib-geodesic",[],(function(){return s})):window.geodesic=s}();
